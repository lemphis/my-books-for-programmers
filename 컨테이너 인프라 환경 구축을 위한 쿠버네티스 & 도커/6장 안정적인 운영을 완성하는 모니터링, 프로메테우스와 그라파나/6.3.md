# 6.3 PromQL로 메트릭 데이터 추출하기

현업에서는 수집된 메트릭 데이터를 그대로 사용하기보다는 필요한 메트릭 데이터를 다시 한 번 가공해서 추출하는 경우가 더 많습니다.  
필요한 메트릭 데이터를 정확하게 추출하려면 PromQL을 알아야 합니다.

## 6.3.4 PromQL 함수

프로메테우스에서 주로 사용하는 함수는 다음과 같습니다.

- 연산 함수
    - 수학 연산에 사용
    - abs(절댓값), ceil(올림), floor(내림), round(반올림), predict_linear(예측값)
- 변환 함수
    - 데이터 타입 간 변환에 사용
    - scalar(스칼라로 변환), vector(벡터로 변환), rate(변화율), irate(순간 변화율)
- 집계 함수
    - 수집된 레인지 벡터의 데이터 집계를 위해 사용
    - avg_over_time(평균), sum_over_time(합계), count_over_time(계수)

프로메테우스에서 제공하는 그래프는 몇 가지 단점이 있습니다.

- 변화율 값을 정확하게 표시하지 못함
- 제한이 많은 꺾은선 그래프로 표시돼 추이 변화를 파악하기 어려움
- 하나의 패널로 구성돼 여러 가지의 PromQL 쿼리를 비교할 수 없음