# 5.4 젠킨스로 CI/CD 구현하기

## 5.4.2 Pipeline 프로젝트로 손쉽게 echo-ip 배포하기

젠킨스의 Pipeline은 연속적인 작업을 코드 또는 파일로 정의해주는 젠킨스 기능입니다.  
Pipeline은 고유의 문법으로 작성된 코드 또는 이러한 내용을 담고 있는 파일로 이루어져 있습니다.  
파이프라인 문법을 통해 젠킨스는 코드로 작성한 내용이 실제 동작하는 작업이 되는 **코드로서의 파이프라인(Pipeline-As-Code)** 을 구현할 수 있습니다.

젠킨스 Pipeline은 크게 2가지의 문법으로 코드를 작성할 수 있습니다.

- 스크립트 문법(Scripted pipeline)
- 선언적인 문법(Declarative pipeline)

Jenkinsfile의 구성 요소는 다음과 같은 내용을 정의합니다.

- pipeline
  - 선언적인 문법이 시작하는 부분
- agent
  - 작업을 수행할 에이전트를 지정하고 필요한 설정을 하는 부분
    - any: 사용 가능한 에이전트를 젠킨스가 임의로 지정
    - label: 특정 레이블과 일치하는 에이전트 노드를 지정
    - docker: 에이전트 노드의 이미지를 도커로 지정
    - kubernetes: 에이전트 노드를 쿠버네티스 파드로 지정
  - 플러그인에 따라 지정할 에이전트는 무수히 많음
- stages
  - stage들을 모아서 정의하고 이를 순서대로 진행하게 해주는 부분
- stage
  - step들을 정의하는 부분
  - 여러 개의 step들을 정의할 수 있으며 이 step들 내부에서 실제로 동작하는 내용들이 정의됨
  - 젠킨스에서 빌드가 진행될 때 stage별로 진행 단계 확인 가능
- steps
  - stage 내부에서 실제 작업 내용을 작성하는 부분
