# 5.7 페이징 처리하기

목록을 보여줄 때 전체 데이터 중 일부만 보여주는 페이징 처리는 기본이다.  
스프링 데이터 JPA는 페이징 처리를 위해 `Pageable` 타입을 이용한다.  
Sort와 마찬가지로 find 메서드에 Pageable 타입 파라미터를 사용하면 페이징을 자동으로 처리해 준다.

Pageable 타입은 인터페이스로, 실제 Pageable 타입 객체는 PageRequest 클래스를 이용해서 생성한다.  
PageRequest.of() 메서드의 첫 번째 인자는 페이지 번호를, 두 번째 인자는 한 페이지의 개수를 의미한다.  
페이지 번호는 0번부터 시작한다.  
PageRequest.of() 메서드의 세 번째 인자로 Sort를 사용하여 정렬 순서를 지정할 수 있다.

Page 타입을 사용하면 데이터 목록뿐만 아니라 조건에 해당하는 전체 개수도 구할 수 있다.  
Pageable을 사용하는 메서드의 리턴 타입이 Page일 경우 스프링 데이터 JPA는 목록 조회 쿼리와 함께 COUNT 쿼리도 실행해서 조건에 해당하는 데이터 개수를 구한다.  
Page는 전체 개수, 페이지 개수 등 페이징 처리에 필요한 데이터도 함께 제공한다.

스펙을 사용하는 findAll() 메서드도 Pageable을 사용할 수 있다.

> 프로퍼티를 비교하는 'findBy프로퍼티' 형식의 메서드는 Pageable 타입을 사용하더라도 리턴 타입이 List면 COUNT 쿼리를 실행하지 않는다.  
> 페이징 처리와 관련된 정보가 필요 없다면 Page 리턴 타입이 아닌 List를 사용해서 불필요한 COUNT 쿼리를 실행하지 않도록 해야 한다.  
> 반면에 스펙을 사용하는 findAll() 메서드에 Pageable 타입을 사용하면 리턴 타입이 Page가 아니어도 COUNT 쿼리를 실행한다.  
> 스펙을 사용하고 페이징 처리를 하면서 COUNT 쿼리는 실행하고 싶지 않다면 스프링 데이터 JPA가 제공하는 커스텀 리포지터리 기능을 이용해서 직접 구현해야 한다.
