# 2.6 권한 관리

MySQL에서 사용자 계정을 생성하는 방법이나 각 계정의 권한을 설정하는 방법은 다른 DBMS와는 조금 차이가 있다.  
대표적으로 MySQL의 사용자 계정은 단순히 사용자의 아이디뿐 아니라 해당 사용자가 어느 IP에서 접속하고 있는지도 확인한다.  
또한 MySQL에서는 권한을 묶어서 관리하는 롤(Role)의 개념이 존재하지 않는다.

## 2.6.1 사용자의 식별

MySQL의 사용자는 사용자의 계정뿐 아니라 사용자의 접속 지점(클라이언트가 실행된 호스트 명이나 도메인 또는 IP 주소)도 계정의 일부가 된다.  
따라서 MySQL에서 계정을 언급할 때는 항상 아이디와 호스트가 같이 명시돼야 한다.  
만약 모든 외부 컴퓨터로부터 접속이 가능한 사용자 계정을 생성하고자 한다면 사용자 계정의 호스트 부분을 "%" 문자로 대체하면 된다.  
즉 "%" 문자는 모든 IP 또는 호스트 명을 의미한다.

## 2.6.2 권한

MySQL에서는 여러 가지 권한(Privileges)이 존재한다.  
권한을 묶는 권한 그룹(Role)으로 관리하는 기능은 제공하지 않아서 모든 사용자는 하나하나의 권한을 가지고 있을 뿐이다.  
MySQL에서 사용 가능한 권한으로는 다음과 같다.

| 권한 명            | 범위 | 설명                                                                                                                |
| ------------------ | ---- | ------------------------------------------------------------------------------------------------------------------- |
| ALTER              | 로컬 | 테이블 스키마 변경                                                                                                  |
| ALTER ROUTINE      | 로컬 | 스토어드 프로시저 변경                                                                                              |
| CREATE             | 로컬 | 테이블 생성                                                                                                         |
| CREATE ROUTINE     | 로컬 | 스토어드 프로시저 생성                                                                                              |
| CREATE VIEW        | 로컬 | 뷰 생성                                                                                                             |
| DELETE             | 로컬 | 레코드 삭제                                                                                                         |
| DROP               | 로컬 | 테이블 삭제                                                                                                         |
| EVENT              | 로컬 | 이벤트 생성 및 변경                                                                                                 |
| EXECUTE            | 로컬 | 프로시저 실행                                                                                                       |
| INDEX              | 로컬 | 인덱스 생성 및 삭제                                                                                                 |
| INSERT             | 로컬 | 레코드 추가                                                                                                         |
| LOCK TABLES        | 로컬 | 테이블 잠금                                                                                                         |
| SELECT             | 로컬 | 레코드 조회                                                                                                         |
| SHOW VIEW          | 로컬 | 뷰의 생성 스크립트 조회                                                                                             |
| TRIGGER            | 로컬 | 트리거 생성 및 삭제                                                                                                 |
| UPDATE             | 로컬 | 레코드 변경                                                                                                         |
| GRANT OPTION       | 로컬 | 권한 부여 옵션                                                                                                      |
| ALL [PRIVILEGES]   | 전역 | GRANT OPTION 권한을 제외한 모든 권한                                                                                |
| CREATE USER        | 전역 | 사용자 생성                                                                                                         |
| FILE               | 전역 | MySQL 서버에서 파일 접근 (SELECT INTO OUTFILE..., LOAD DATA IN ...)                                                 |
| PROCESS            | 전역 | 프로세스의 목록과 각 프로세스의 실행 쿼리 조회 (SHOW PROCESSLIST)                                                   |
| RELOAD             | 전역 | 로그 및 권한 또는 테이블 정보에 대한 FLUSH 명령 사용 권한                                                           |
| REPLICATION CLIENT | 전역 | SHOW MASTER[SLAVE] STATUS 명령 사용                                                                                 |
| REPLICATION SLAVE  | 전역 | 복제를 위해 바이너리 로그를 읽어갈 수 있는 권한 (복제용 사용자 계정이 가져야 하는 권한)                             |
| SHOW DATABASES     | 전역 | DB의 목록 조회 권한                                                                                                 |
| SHUTDOWN           | 전역 | MySQL 서버의 종료 권한                                                                                              |
| SUPER              | 전역 | SUPER 권한 (root 사용자와 같은 권한을 의미하지는 않지만 특정한 상황에서는 제한을 넘어서서 뭔가 작업할 수 있는 권한) |
| USAGE              | 전역 | 아무 권한 없음                                                                                                      |

### MySQL의 관리자 계정 준비

root라는 관리자 계정은 너무 많이 알려져 있기 때문에 별도의 아이디를 이용해 관리자 계정을 준비하는 것이 좋다.

### MySQL의 서비스용 계정 준비

서비스 계정은 스크립트나 애플리케이션의 설정 파일에 아이디와 비밀번호가 암호화되지 않고 기록될 때가 많기 때문에 전체 데이터베이스에 대한 권한은 허용하지 않는 것이 좋다.
