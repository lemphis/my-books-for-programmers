# 2.5 MySQL 복제 구축

## 2.5.1 설정 준비

MySQL 복제를 구축하려면 다음 조건이 MySQL 서버의 설정 파일에 적용된 상태여야 한다.

- 복제 그룹 내에 속한 각 MySQL 서버가 중복되지 않는 server-id 값을 가짐
- 마스터 MySQL 서버는 반드시 바이너리 로그가 활성화되어야 함

## 2.5.2 복제 계정 준비

슬레이브 MySQL이 마스터로부터 바이너리 로그를 가져오려면 마스터 MySQL 서버에 접속해 로그인해야 하는데, 이때 슬레이브가 사용할 계정을 복제용 계정이라고 한다.  
복제용 계정은 마스터 MySQL에 미리 준비돼 있어야 하며, 이 계정은 반드시 "REPLICATION SLAVE" 권한을 가지고 있어야 한다.

## 2.5.3 데이터 복사

마스터 MySQL의 데이터를 슬레이브 MySQL 서버로 가져와서 적재하려면 MySQL Enterprise backup이나 mysqldump 등을 통해 데이터를 슬레이브 MySQL로 복사하면 된다.  
일반적으로 데이터가 크지 않다면 mysqldump를 많이 사용한다.

## 2.5.4 복제 시작

1. mysqldump로 백업 받은 파일의 헤더 부분에서 CHANGE MASTER ... 명령 실행하여 마스터 데이터를 슬레이브로 적재
2. START SLAVE 명령 실행하여 백업 파일에 포함되지 않은 마스터의 변경 사항 적용
