# 17.7 바이너리 로그로 디스크가 꽉 찬 경우

마스터 MySQL 서버에서는 복제를 위해 바이너리 로그를 기록한다.  
데이터를 변경하는 쿼리가 많이 실행되는 서버에서는 바이너리 로그 파일의 개수나 크기가 그만큼 빨리 증가하게 된다.  
이 때문에 기본적으로 필요한 요건에 따라 적절히 바이너리 로그 파일이 자동으로 삭제될 수 있게 시스템 설정을 적용하는 것이 좋다.  
MySQL 서버의 설정 파일에 "expire_logs_days=7"이라고 명시하면 MySQL 서버는 7일 이전의 바이너리 로그 파일은 자동적으로 삭제한다.

만약 바이너리 로그 파일이 너무 많아서 삭제할 때 그냥 운영체제의 명령으로 파일을 삭제해서는 안 된다.  
바이너리 로그 파일의 목록은 MySQL 서버에 의해 별도로 관리되므로 MySQL 서버에 로그인해서 다음 명령으로 삭제하는 것이 좋다.  
다음 명령은 2011년 7월 23일 10시 이전까지의 바이너리 로그를 모두 삭제하고, 바이너리 로그 파일의 목록을 관리하는 바이너리 로그 인덱스 파일까지 그에 맞춰서 업데이트해 준다.

```sql
PURGE BINARY LOGS BEFORE '2011-07-23 10:00:00';
```

만약 실수로 바이너리 로그 파일을 운영체제 명령으로 삭제했다면 바이너리 로그 파일의 목록을 관리하는 인덱스 파일(*.index)에도 삭제된 파일의 내용을 업데이트해야 한다.  
만약 인덱스 파일을 업데이트하지 않거나 잘못 수정하면 MySQL의 복제에도 영향을 미칠 수 있으므로 주의해야 한다.
