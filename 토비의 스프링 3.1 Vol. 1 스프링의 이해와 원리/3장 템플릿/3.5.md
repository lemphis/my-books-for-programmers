# 3.5 템플릿과 콜백

전략 패턴의 기본 구조에 익명 내부 클래스를 활용한 방식을 스프링에서는 `템플릿/콜백 패턴`이라고 부른다.  
전략 패턴의 컨텍스트를 템플릿이라 부르고, 익명 내부 클래스로 만들어지는 오브젝트를 콜백이라고 부른다.

- 템플릿 (template)
  - 고정된 틀 안에 바꿀 수 있는 부분을 넣어서 사용하는 경우를 말함
  - 고정된 틀의 로직을 가진 템플릿 메서드를 슈퍼 클래스에 두고, 바뀌는 부분을 서브 클래스의 메서드에 두는 구조
- 콜백 (callback)
  - 실행되는 것을 목적으로 다른 오브젝트의 메서드에 전달되는 오브젝트를 말함
  - 파라미터로 전달되지만 값을 참조하기 위한 것이 아니라 특정 로직을 담은 메서드를 실행시키기 위해 사용
  - functional object라고도 함

## 3.5.1 템플릿/콜백의 동작 원리

### 템플릿/콜백의 특징

여러 개의 메서드를 가진 일반적인 인터페이스를 사용할 수 있는 전략 패턴의 전략과 달리 템플릿/콜백 패턴의 콜백은 보통 단일 메서드 인터페이스를 사용한다.  
템플릿의 작업 흐름 중 특정 기능을 위해 한 번 호출되는 경우가 일반적이기 때문이다.  
하나의 템플릿에서 여러 가지 종류의 전략을 사용해야 한다면 하나 이상의 콜백 오브젝트를 사용할 수 있다.
콜백 인터페이스의 메서드에는 보통 파라미터가 있다.  
이 파라미터는 템플릿의 작업 흐름 중에 만들어지는 컨텍스트 정보를 전달받을 때 사용된다.
