# 2.4 스프링 테스트 적용

## 2.4.1 테스트를 위한 애플리케이션 컨텍스트 관리

### @Autowired

`@Autowired`는 스프링의 DI에 사용되는 특별한 애노테이션이다.  
@Autowired가 붙은 인스턴스 변수가 있으면, 테스트 컨텍스트 프레임워크는 변수 타입과 일치하는 컨텍스트 내의 빈을 찾는다.
@Autowired는 타입으로 가져올 빈 하나를 선택할 수 없는 경우(같은 타입의 빈이 두 개 이상 있는 경우)에는 변수의 이름과 같은 이름의 빈이 있는지 확인한다.  
변수 이름으로도 빈을 찾을 수 없는 경우에는 예외가 발생한다.

테스트는 필요하다면 얼마든지 애플리케이션의 클래스와 밀접한 관계(구현체를 사용)를 맺고 있어도 상관없다.  
개발자가 만드는 테스트는 코드 내부 구조와 설정 등을 알고 있고 의도적으로 그 내용을 검증해야 할 필요가 있기 때문이다.

## 2.4.2 DI와 테스트

아래는 인터페이스를 두고 DI를 적용해야 하는 이유다.

1. 소프트웨어 개발에서 절대로 바뀌지 않는 것은 없음
2. 클래스의 구현 방식은 바뀌지 않는다고 하더라도 인터페이스를 두고 DI를 적용하게 해두면 다른 차원의 서비스 기능을 도입할 수 있음
3. 효율적인 테스트를 손쉽게 만들 수 있음
